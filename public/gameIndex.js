(()=>{"use strict";var e=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function t(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=document.createElement(e);return t&&(o.id=t),r&&(n=o.classList).add.apply(n,r),o}function n(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=document.createElement("img");return o.src=e,o.className=t,o.alt=n,r.forEach((function(e){return o.setAttribute(e[0],e[1])})),o}function r(n,r,i){for(var o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var c=t.apply(void 0,e([n,i],o,!1));return c.innerText=r,c}function i(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=t.apply(void 0,e(["button",r],i,!1));return a.innerText=n,a}var o=t("section","","meteor-container"),a=t("div","meteor");function c(){document.body.classList.remove("blurElement")}document.body.appendChild(o),o.appendChild(a);var s=function(){function e(e,t){this._idNumber=t,this.cardImgSrc=e,this._element=this.renderCardElement()}return Object.defineProperty(e.prototype,"idNumber",{get:function(){return this._idNumber},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),e.prototype.renderCardElement=function(){var e=t("div","","card-container");e.dataset.idNumber=this.idNumber;var r=t("div","","card-inner"),i=t("div","","card-front"),o=n("./assets/cardtest.jpg","card","Frente da Carta");i.appendChild(o);var a=t("div","","card-back"),c=n(this.cardImgSrc,"card","TrÃ¡s da Carta");return a.appendChild(c),r.append(i,a),e.append(r),e},e.prototype.append=function(){document.querySelector("main").appendChild(this._element)},e.prototype.flipCard=function(){this.element.querySelector(".card-inner").classList.toggle("flip")},e}(),d=function(){function e(){this.element=this.renderPoints(),this.turns=0,this.matches=0,this.left=0}return Object.defineProperty(e.prototype,"turns",{get:function(){return this._turns},set:function(e){this._turns=e,this.element.querySelector("#turns").innerText="turns: ".concat(this.turns)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"matches",{get:function(){return this._matches},set:function(e){this._matches=e,this.element.querySelector("#matches").innerText="matches: ".concat(this.matches)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(e){this._left=e,this.element.querySelector("#left").innerText="left: ".concat(this.left)},enumerable:!1,configurable:!0}),e.prototype.renderPoints=function(){var e=t("section","","points-section"),n=r("span","turns: 0","turns"),i=r("span","matches: 0","matches"),o=r("span","left: 0","left");return e.append(n,i,o),document.body.appendChild(e),e},e.prototype.removePoints=function(){document.querySelector(".points-section").remove()},e}(),u=document.querySelector("main");function p(e,t){var n=document.querySelectorAll(".card-container"),r=document.querySelectorAll(".card");n.forEach((function(n){n.style.width=e,n.style.height=t})),r.forEach((function(n){n.style.width=e,n.style.height=t}))}var l,f,m=function(){function e(e){this.difficulty=e,this.restartGame(),this.flippedCards=[]}return e.prototype.restartGame=function(){var t;this.pointsScreen=new d,t=i("Finish Game","","finish-game-btn"),document.body.appendChild(t),t.addEventListener("click",y),e.cards=[],"easy"===this.difficulty?(this.createCards(9),this.appendCards(),u.className="",window.innerWidth<=767.98&&p("5.5em","8.5em"),window.addEventListener("resize",(function(){window.innerWidth<=767.98&&p("5.5em","8.5em")})),u.classList.add("easy-grid"),this.pointsScreen.left=9):"medium"===this.difficulty?(this.createCards(12),this.appendCards(),u.className="",window.innerWidth<=767.98&&p("5.5em","8.5em"),window.addEventListener("resize",(function(){window.innerWidth<767.98&&p("5.5em","8.5em")})),u.classList.add("medium-grid"),this.pointsScreen.left=12):"hard"===this.difficulty&&(this.createCards(18),this.appendCards(),u.className="",p("5em","8em"),u.classList.add("hard-grid"),this.pointsScreen.left=18)},e.prototype.appendCards=function(){e.cards.sort((function(){return Math.random()-.5})),e.cards.forEach((function(e){return e.append()}))},e.prototype.getIdNumber=function(){var t,n;do{t=String(Math.random().toFixed(2)),n=e.cards.filter((function(e){return e.idNumber===t}))}while(n.length>0);return t},e.prototype.createCards=function(t){for(var n=this,r=1;r<=t;r++){var i=this.getIdNumber(),o=new s("./assets/memory".concat(r,".webp"),i),a=new s("./assets/memory".concat(r,".webp"),i);e.cards.push(o,a)}e.cards.forEach((function(e){return e.element.addEventListener("click",(function(){2!==n.flippedCards.length&&n.checkTurn(e)}))}))},e.prototype.checkTurn=function(e){e.element.querySelector(".card-inner").classList.contains("flip")||(this.flippedCards.push(e),e.flipCard()),2===this.flippedCards.length&&(this.flippedCards[0].idNumber===this.flippedCards[1].idNumber?(this.clearFlippedCards(),this.pointsScreen.matches++,this.pointsScreen.left--):this.flipCardsBack()),0===this.pointsScreen.left&&this.finishGame()},e.prototype.flipCardsBack=function(){var e=this;setTimeout((function(){e.flippedCards.forEach((function(e){return e.flipCard()})),e.flippedCards=[],e.pointsScreen.turns++}),700)},e.prototype.clearFlippedCards=function(){var e=this;setTimeout((function(){e.flippedCards.forEach((function(e){return e.element.style.opacity="0"})),e.flippedCards=[],e.pointsScreen.turns++}),700)},e.prototype.finishGame=function(){var e,n,o,a,c,s;this.pointsScreen.removePoints(),document.querySelector(".finish-game-btn").remove(),e=t("section","","game-options"),n=r("p","Fim de jogo"),o=t("div","","btn-container"),a=i("Play again","","play-again-btn","opt-btn"),c=i("Change mode","","change-mode-btn","opt-btn"),s=i("Exit","","exit-btn","opt-btn"),o.append(a,c,s),e.append(n,o),document.body.appendChild(e),a.addEventListener("click",(function(){e.remove(),f.restartGame()}),{once:!0}),c.addEventListener("click",(function(){e.remove(),h()}),{once:!0}),s.addEventListener("click",(function(){var e;(e=t("a"),e.href="index.html",e).click()}),{once:!0}),document.querySelector("main").innerHTML=""},e}();function h(){var e=t("section","","game-options"),n=r("p","Selecione a dificuldade"),o=t("div","","btn-container"),a=i("Easy","","easy-btn","mode-btn");a.dataset.difficulty="easy";var c=i("Medium","","medium-btn","mode-btn");c.dataset.difficulty="medium";var s=i("Hard","","hard-btn","mode-btn");s.dataset.difficulty="hard",o.append(a,c,s),e.append(n,o),document.body.appendChild(e),document.querySelectorAll(".mode-btn").forEach((function(t){t.addEventListener("click",(function(){l=t.dataset.difficulty,e.remove(),f=new m(l)}),{once:!0})}))}function y(){var e=t("section","confirm-section","game-options"),n=r("p","Encerrar o jogo?"),o=t("div","","btn-container"),a=i("Yes","","opt-btn"),s=i("No","","opt-btn");a.addEventListener("click",(function(){e.remove(),f.finishGame(),c()})),s.addEventListener("click",(function(){e.remove(),c()})),o.append(a,s),e.append(n,o),document.body.appendChild(e),document.body.classList.add("blurElement")}setInterval((function(){a.classList.toggle("meteor")}),15e3),h()})();